$(function () { function n(n) { $(n).animate({ width: a }).find("img").animate({ width: l }).end().find("h2").animate({ fontSize: c }).end().find("p").animate({ fontSize: o }) } function i(n) { $(n).animate({ width: s }).find("img").animate({ width: d }).end().find("h2").animate({ fontSize: f }).end().find("p").animate({ fontSize: p }) } function e(a) { if (a && !(t > h) || !a && 1 >= h) return !1; if (0 == $("#slider").data("currentlyMoving")) { $("#slider").data("currentlyMoving", !0); var l = a ? h + 1 : h - 1, c = $(".scrollContainer").css("left"), o = a ? parseFloat(c, 10) - r : parseFloat(c, 10) + r; $(".scrollContainer").stop().animate({ left: o }, function () { $("#slider").data("currentlyMoving", !1) }), n("#panel_" + h), i("#panel_" + l), h = l, $("#panel_" + (h + 1)).unbind(), $("#panel_" + (h + 1)).click(function () { e(!0) }), $("#panel_" + (h - 1)).unbind(), $("#panel_" + (h - 1)).click(function () { e(!1) }), $("#panel_" + h).unbind() } } var t = $(".scrollContainer").children().size(), a = $(".panel").css("width"), l = $(".panel img").css("width"), c = $(".panel h2").css("font-size"), o = $(".panel p").css("font-size"), r = 300, s = 350, d = 326, f = "20px", p = "15px", u = $("#slider .scrollContainer > div"); $("#slider .scrollContainer"); u.css({ "float": "left", position: "relative" }), $("#slider").data("currentlyMoving", !1); $("#slider .scroll").css("overflow", "hidden"); i("#panel_3"); var h = 3; $("#panel_" + (h + 1)).click(function () { e(!0) }), $("#panel_" + (h - 1)).click(function () { e(!1) }), $(".right").click(function () { e(!0) }), $(".left").click(function () { e(!1) }), $(window).keydown(function (n) { switch (n.keyCode) { case 13: $(".right").click(); break; case 32: $(".right").click(); break; case 37: $(".left").click(); break; case 39: $(".right").click() } }) });